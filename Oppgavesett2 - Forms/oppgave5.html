<!DOCTYPE html>
<html>
<head>
    <title>Oppgave 5</title>
</head>
<body>
    <h1>Skjema Validering</h1>
    <form onsubmit="return validateForm()">
        <label for="usernameInput">Brukernavn (minst 5 tegn):</label>
        <input type="text" id="usernameInput" required>
        <br>
        <label for="emailInput">E-post (gyldig e-postadresse):</label>
        <input type="email" id="emailInput" required>
        <br>
        <label for="passwordInput">Passord (minst 8 tegn og inneholder både bokstaver og tall):</label>
        <input type="password" id="passwordInput" required>
        <br>
        <label for="confirmPasswordInput">Bekreft passord:</label>
        <input type="password" id="confirmPasswordInput" required>
        <br>
        <input type="submit" value="Registrer">
    </form>
    <p id="validationMessage"></p>
    <p id="confirmationMessage" style="display: none;">Skjemaet er sendt inn.</p>

    <script>
        function validateForm() {
            let usernameInput = document.getElementById("usernameInput");
            let emailInput = document.getElementById("emailInput");
            let passwordInput = document.getElementById("passwordInput");
            let confirmPasswordInput = document.getElementById("confirmPasswordInput");
            let validationMessage = document.getElementById("validationMessage");
            let confirmationMessage = document.getElementById("confirmationMessage");

            let username = usernameInput.value;
            let email = emailInput.value;
            let password = passwordInput.value;
            let confirmPassword = confirmPasswordInput.value;

            let usernamePattern = /^[a-zA-Z0-9]{5,}$/;
            let emailPattern = /^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/;
            let passwordPattern = /^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/;

            if (!usernamePattern.test(username)) {
                validationMessage.textContent = "Brukernavnet må være minst 5 tegn.";
                return false;
            }

            if (!emailPattern.test(email)) {
                validationMessage.textContent = "E-posten skal være en gyldig e-postadresse.";
                return false;
            }

            if (!passwordPattern.test(password)) {
                validationMessage.textContent = "Passordet må være minst 8 tegn og inneholde både bokstaver og tall.";
                return false;
            }

            if (password !== confirmPassword) {
                validationMessage.textContent = "Passordbekreftelsen stemmer ikke overens med passordet.";
                return false;
            }

            validationMessage.textContent = "";
            confirmationMessage.style.display = "block";
            return false;
        }
    </script>
</body>
</html>